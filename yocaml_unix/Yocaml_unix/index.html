<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Yocaml_unix (yocaml_unix.Yocaml_unix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">yocaml_unix</a> &#x00BB; Yocaml_unix</nav><h1>Module <code>Yocaml_unix</code></h1><p>A runtime describes the set of &quot;low-level&quot; primitives to operate in a specific context. This separation allows to have a pure and platform agnostic kernel (the <code>Yocaml</code> module) and to define specific runtimes as needed. Here is the runtime for UNIXish (OSX/Linux).</p><nav class="toc"><ul><li><a href="#api">API</a></li><li><a href="#runtime">Runtime</a></li></ul></nav></header><section><header><h2 id="api"><a href="#api" class="anchor"></a>API</h2></header><dl><dt class="spec value" id="val-execute"><a href="#val-execute" class="anchor"></a><code><span class="keyword">val</span> execute : <span><span class="type-var">'a</span> <a href="../../yocaml/Yocaml/index.html#module-Effect">Yocaml.Effect</a>.t</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Executes a YOCaml program using the UNIX Runtime.</p></dd></dl></section><section><header><h2 id="runtime"><a href="#runtime" class="anchor"></a>Runtime</h2><p>Inclusion of the runtime to be able to use <code>Yocaml_unix</code> as runtime directly.</p></header><div><div class="spec include"><div class="doc"><details><summary><span class="def"><code><span class="keyword">include</span> <a href="../../yocaml/Yocaml/Runtime/index.html#module-type-RUNTIME">Yocaml.Runtime.RUNTIME</a></code></span></summary><dl><dt class="spec value" id="val-get_time"><a href="#val-get_time" class="anchor"></a><code><span class="keyword">val</span> get_time : unit <span>&#45;&gt;</span> float</code></dt><dd><p><code>get_time ()</code> should returns a float like <code>Unix.gettimeofday ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-file_exists"><a href="#val-file_exists" class="anchor"></a><code><span class="keyword">val</span> file_exists : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>file_exists path</code> should returns <code>true</code> if <code>path</code> exists (as a file or a directory), <code>false</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-target_exists"><a href="#val-target_exists" class="anchor"></a><code><span class="keyword">val</span> target_exists : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Same of <code>file_exists</code> but acting on the target.</p></dd></dl><dl><dt class="spec value" id="val-is_directory"><a href="#val-is_directory" class="anchor"></a><code><span class="keyword">val</span> is_directory : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_directory path</code> should returns <code>true</code> if <code>path</code> is an existing file and if the file is a directory, <code>false</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-get_modification_time"><a href="#val-get_modification_time" class="anchor"></a><code><span class="keyword">val</span> get_modification_time : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> <span>int <a href="../../yocaml/Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span></code></dt><dd><p><code>get_modification_time path</code> should returns a <code>Try.t</code> containing the modification time (as an integer) of the given file. The function may fail.</p></dd></dl><dl><dt class="spec value" id="val-target_modification_time"><a href="#val-target_modification_time" class="anchor"></a><code><span class="keyword">val</span> target_modification_time : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> <span>int <a href="../../yocaml/Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span></code></dt><dd><p>Same of <code>get_modification_time</code> but acting on the target.</p></dd></dl><dl><dt class="spec value" id="val-read_file"><a href="#val-read_file" class="anchor"></a><code><span class="keyword">val</span> read_file : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> <span>string <a href="../../yocaml/Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span></code></dt><dd><p><code>read_file path</code> should returns a <code>Try.t</code> containing the content (as a string) of the given file. The function may fail.</p></dd></dl><dl><dt class="spec value" id="val-content_changes"><a href="#val-content_changes" class="anchor"></a><code><span class="keyword">val</span> content_changes : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>bool <a href="../../yocaml/Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span></code></dt><dd><p><code>content_changes filepath new_content</code> check if the content of the file has been changed.</p></dd></dl><dl><dt class="spec value" id="val-write_file"><a href="#val-write_file" class="anchor"></a><code><span class="keyword">val</span> write_file : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="../../yocaml/Yocaml/Try/index.html#type-t">Yocaml.Try.t</a></span></code></dt><dd><p><code>write_file path content</code> should write (create or overwrite) <code>content</code> into the given path. The function may fail.</p></dd></dl><dl><dt class="spec value" id="val-read_dir"><a href="#val-read_dir" class="anchor"></a><code><span class="keyword">val</span> read_dir : <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> <span><a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> list</span></code></dt><dd><p><code>read_dir path</code> should returns a list of children. The function is pretty optimistic if the directory does not exist, or for any other possible reason the function should fail, it will return an empty list.</p></dd></dl><dl><dt class="spec value" id="val-create_dir"><a href="#val-create_dir" class="anchor"></a><code><span class="keyword">val</span> create_dir : <span>?&#8288;file_perm:int</span> <span>&#45;&gt;</span> <a href="../../yocaml/Yocaml/Filepath/index.html#type-t">Yocaml.Filepath.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>create_dir path</code> is an optimistic version of <code>mkdir -p</code>, the function extract the directory of a file and create it if it does not exists without any failure.</p></dd></dl><dl><dt class="spec value" id="val-log"><a href="#val-log" class="anchor"></a><code><span class="keyword">val</span> log : <a href="../../yocaml/Yocaml/Log/index.html#type-level">Yocaml.Log.level</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>log level message</code> justs dump a message on stdout.</p></dd></dl></details></div></div></div></section></div></body></html>