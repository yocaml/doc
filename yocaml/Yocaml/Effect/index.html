<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Effect (yocaml.Yocaml.Effect)</title><link rel="stylesheet" href="../../../_odoc_support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../_odoc_support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">yocaml</a> &#x00BB; <a href="../index.html">Yocaml</a> &#x00BB; Effect</nav><header class="odoc-preamble"><h1>Module <code><span>Yocaml.Effect</span></code></h1><p>Centralization of the effects that can be performed.</p></header><nav class="odoc-toc"><ul><li><a href="#a-bad-faith-preamble">A bad faith preamble</a></li><li><a href="#effects-list">Effects list</a></li><li><a href="#global-definition">Global definition</a><ul><li><a href="#freer-monad-over-effects">Freer monad over effects</a></li><li><a href="#performing-effects">Performing effects</a><ul><li><a href="#filesystem">Filesystem</a></li><li><a href="#logging">Logging</a></li><li><a href="#open-bar">Open bar</a></li><li><a href="#effects-composition">Effects composition</a></li></ul></li><li><a href="#included-freer-combinators">Included Freer combinators</a></li></ul></li></ul></nav><div class="odoc-content"><h2 id="a-bad-faith-preamble"><a href="#a-bad-faith-preamble" class="anchor"></a>A bad faith preamble</h2><p>To be beautiful and modern, this project separates the description of the programme from its interpretation. But as the composition is not really to my taste in Preface, I decided to centralize all the effects, like the errors, in one module.</p><p><em>Ugh</em>, that sounds perfectly stupid... it would be like considering that you can only express one family of effects (you could call it ... <code>IO</code>). Don't panic, the first parameter of type <code>effect</code> allows you to make a selective choice when defining <code>Freer</code>. One could say that one takes advantage of the <em>non-surjective</em> aspect of the constructors of a sum (thanks to the GADTs!). Well, I'd be lying if I said I was convinced it was a good approach, but at least it seems viable.</p><h2 id="effects-list"><a href="#effects-list" class="anchor"></a>Effects list</h2><p>Boy, this type sounds like a hell of a lot of trouble to read! don't read it and go a little lower, there are kind of smarts constructors.</p><div class="odoc-spec"><div class="spec type anchored" id="type-effects"><a href="#type-effects" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, 'a) effects</span></span><span> = </span></code><ol><li id="type-effects.File_exists" class="def variant constructor anchored"><a href="#type-effects.File_exists" class="anchor"></a><code><span>| </span><span><span class="constructor">File_exists</span> : <a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; file_exists : unit.. &gt;</span>, bool)</span> <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Target_exists" class="def variant constructor anchored"><a href="#type-effects.Target_exists" class="anchor"></a><code><span>| </span><span><span class="constructor">Target_exists</span> : <a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; target_exists : unit.. &gt;</span>, bool)</span> <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Get_modification_time" class="def variant constructor anchored"><a href="#type-effects.Get_modification_time" class="anchor"></a><code><span>| </span><span><span class="constructor">Get_modification_time</span> : <a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; get_modification_time : unit.. &gt;</span>,
                                        <span>int <a href="../Try/index.html#type-t">Try.t</a></span>)</span>
                                        <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Target_modification_time" class="def variant constructor anchored"><a href="#type-effects.Target_modification_time" class="anchor"></a><code><span>| </span><span><span class="constructor">Target_modification_time</span> : <a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; target_modification_time : unit.. &gt;</span>,
                                           <span>int <a href="../Try/index.html#type-t">Try.t</a></span>)</span>
                                           <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Read_file" class="def variant constructor anchored"><a href="#type-effects.Read_file" class="anchor"></a><code><span>| </span><span><span class="constructor">Read_file</span> : <a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; read_file : unit.. &gt;</span>, <span>string <a href="../Try/index.html#type-t">Try.t</a></span>)</span> <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Content_changes" class="def variant constructor anchored"><a href="#type-effects.Content_changes" class="anchor"></a><code><span>| </span><span><span class="constructor">Content_changes</span> : <span>(string * <a href="../Filepath/index.html#type-t">Filepath.t</a>)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; content_changes : unit.. &gt;</span>,
                                             <span><span><span>(string, unit)</span> <span class="xref-unresolved">Either</span>.t</span> <a href="../Try/index.html#type-t">Try.t</a></span>)</span>
                                             <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Write_file" class="def variant constructor anchored"><a href="#type-effects.Write_file" class="anchor"></a><code><span>| </span><span><span class="constructor">Write_file</span> : <span>(<a href="../Filepath/index.html#type-t">Filepath.t</a> * string)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; write_file : unit.. &gt;</span>, <span>unit <a href="../Try/index.html#type-t">Try.t</a></span>)</span>
                                        <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Read_dir" class="def variant constructor anchored"><a href="#type-effects.Read_dir" class="anchor"></a><code><span>| </span><span><span class="constructor">Read_dir</span> : <span>(<a href="../Filepath/index.html#type-t">Filepath.t</a>
            * <span>[&lt; `Files <span>| `Directories</span> <span>| `Both</span> ]</span>
            * <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span>)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; read_dir : unit.. &gt;</span>,
                                                   <span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span>)</span>
                                                   <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Command" class="def variant constructor anchored"><a href="#type-effects.Command" class="anchor"></a><code><span>| </span><span><span class="constructor">Command</span> : string <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; command : unit.. &gt;</span>, int)</span> <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Log" class="def variant constructor anchored"><a href="#type-effects.Log" class="anchor"></a><code><span>| </span><span><span class="constructor">Log</span> : <span>(<a href="../Log/index.html#type-level">Log.level</a> * string)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; log : unit.. &gt;</span>, unit)</span> <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Throw" class="def variant constructor anchored"><a href="#type-effects.Throw" class="anchor"></a><code><span>| </span><span><span class="constructor">Throw</span> : <a href="../Error/index.html#type-t">Error.t</a> <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; throw : unit.. &gt;</span>, <span class="type-var">'a</span>)</span> <a href="#type-effects">effects</a></span></span></code></li><li id="type-effects.Raise" class="def variant constructor anchored"><a href="#type-effects.Raise" class="anchor"></a><code><span>| </span><span><span class="constructor">Raise</span> : exn <span class="arrow">&#45;&gt;</span> <span><span>(<span>&lt; raise_ : unit.. &gt;</span>, <span class="type-var">'a</span>)</span> <a href="#type-effects">effects</a></span></span></code></li></ol></div></div><h2 id="global-definition"><a href="#global-definition" class="anchor"></a>Global definition</h2><p>Complete mechanism for describing programs by description and providing them with handlers (interpreters/runtime) for all effects modelled in type <code>t</code>. <em>(So absolutely not taking advantage of the slicing capability... It was well worth it!)</em></p><h3 id="freer-monad-over-effects"><a href="#freer-monad-over-effects" class="anchor"></a>Freer monad over effects</h3><p>All the plumbing for effects description/interpretation resides through a Freer monad (thanks Preface). Although this module is included below, I have taken the liberty of displaying it... for documentation purposes only.</p><div class="odoc-spec"><div class="spec module anchored" id="module-Freer"><a href="#module-Freer" class="anchor"></a><code><span><span class="keyword">module</span> Freer</span><span> : 
  <span class="xref-unresolved">Preface</span>.Specs.FREER_MONAD
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">f</span></span> =
           <span><span>(<span>&lt; file_exists : <span class="xref-unresolved">unit</span>
             ; target_exists : <span class="xref-unresolved">unit</span>
             ; get_modification_time : <span class="xref-unresolved">unit</span>
             ; target_modification_time : <span class="xref-unresolved">unit</span>
             ; read_file : <span class="xref-unresolved">unit</span>
             ; write_file : <span class="xref-unresolved">unit</span>
             ; content_changes : <span class="xref-unresolved">unit</span>
             ; read_dir : <span class="xref-unresolved">unit</span>
             ; log : <span class="xref-unresolved">unit</span>
             ; command : <span class="xref-unresolved">unit</span>
             ; throw : <span class="xref-unresolved">unit</span>
             ; raise_ : <span class="xref-unresolved">unit</span> &gt;</span>,
             <span class="type-var">'a</span>)</span>
             <span class="xref-unresolved">effects</span></span></span></span></code></div></div><h3 id="performing-effects"><a href="#performing-effects" class="anchor"></a>Performing effects</h3><p>Once described (or/and specialised), the effects must be produced in a programme description. To transform the description of an effect (a value of type <code>Effect</code>.effect) into the execution of this effect, thus a value of type <a href="#type-t"><code>Effect.t</code></a>), the <code>perform</code> function is used.</p><h4 id="filesystem"><a href="#filesystem" class="anchor"></a>Filesystem</h4><p>In generating a static blog, having control over the file system seems to be a minimum!</p><div class="odoc-spec"><div class="spec value anchored" id="val-file_exists"><a href="#val-file_exists" class="anchor"></a><code><span><span class="keyword">val</span> file_exists : <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>file_exists path</code> should be interpreted as returning <code>true</code> if the file denoted by the file path <code>path</code> exists, <code>false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-target_exists"><a href="#val-target_exists" class="anchor"></a><code><span><span class="keyword">val</span> target_exists : <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>target_exists path</code> should be interpreted as returning <code>true</code> if the file denoted by the file path <code>path</code> exists, <code>false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_modification_time"><a href="#val-get_modification_time" class="anchor"></a><code><span><span class="keyword">val</span> get_modification_time : <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>int <a href="../Try/index.html#type-t">Try.t</a></span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>get_modification_time path</code> should be interpreted as returning, as an integer, the Unix time (<code>mtime</code> corresponding to the modification date of the file denoted by the file path <code>path</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-target_modification_time"><a href="#val-target_modification_time" class="anchor"></a><code><span><span class="keyword">val</span> target_modification_time : <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>int <a href="../Try/index.html#type-t">Try.t</a></span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>target_modification_time path</code> should be interpreted as returning, as an integer, the Unix time (<code>mtime</code> corresponding to the modification date of the file denoted by the file path <code>path</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_file"><a href="#val-read_file" class="anchor"></a><code><span><span class="keyword">val</span> read_file : <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="../Try/index.html#type-t">Try.t</a></span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>read_file path</code> should be interpreted as trying to read the contents of the file denoted by the file path <code>path</code>. At the moment I'm using strings mainly out of laziness, and as I'll probably be the only user of this library... it doesn't matter!</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-content_changes"><a href="#val-content_changes" class="anchor"></a><code><span><span class="keyword">val</span> content_changes : 
  <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span>(string, unit)</span> <span class="xref-unresolved">Either</span>.t</span> <a href="../Try/index.html#type-t">Try.t</a></span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>content_changes content filepath</code> should be interpreted as trying to check if the content of the file is different from the given content. (In order to reduce the mtime modification)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_file"><a href="#val-write_file" class="anchor"></a><code><span><span class="keyword">val</span> write_file : <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="../Try/index.html#type-t">Try.t</a></span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>write_file path content</code> should be interpreted as trying to write <code>content</code> to the file denoted by the file path <code>path</code>. In my understanding of the system, the file will be completely overwritten if it already exists. Once again I am using strings, but this time it is not laziness, it is to be consistent with <code>read_file</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_children"><a href="#val-read_children" class="anchor"></a><code><span><span class="keyword">val</span> read_children : 
  <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p>Get a list of all children of a path.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_child_files"><a href="#val-read_child_files" class="anchor"></a><code><span><span class="keyword">val</span> read_child_files : 
  <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p>Get a list of all child files of a path (exclude dirs).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_child_directories"><a href="#val-read_child_directories" class="anchor"></a><code><span><span class="keyword">val</span> read_child_directories : 
  <span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p>Get a list of all child directories of a path (exclude files).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-collect_children"><a href="#val-collect_children" class="anchor"></a><code><span><span class="keyword">val</span> collect_children : 
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p>Same of <code>read_children</code> but searching through a list of directories.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-collect_child_files"><a href="#val-collect_child_files" class="anchor"></a><code><span><span class="keyword">val</span> collect_child_files : 
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p>Same of <code>read_child_files</code> but searching through a list of directories.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-collect_child_directories"><a href="#val-collect_child_directories" class="anchor"></a><code><span><span class="keyword">val</span> collect_child_directories : 
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p>Same of <code>read_child_directories</code> but searching through a list of directories.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-process_files"><a href="#val-process_files" class="anchor"></a><code><span><span class="keyword">val</span> process_files : 
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="xref-unresolved">Preface</span>.Predicate.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Filepath/index.html#type-t">Filepath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>process_files path predicate action</code> performs sequentially <code>action</code> on each files which satisfies <code>predicate</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-command"><a href="#val-command" class="anchor"></a><code><span><span class="keyword">val</span> command : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>command cmd</code> performs a <code>shell commands</code> and returns the exit code.</p></div></div><h4 id="logging"><a href="#logging" class="anchor"></a>Logging</h4><p>Even if it would be possible to limit our feedback with the user to simply returning an integer (<em>El famoso Unix Return</em>)... it would still be more convenient to display feedback to the user on the stage the program is in, right?</p><div class="odoc-spec"><div class="spec value anchored" id="val-log"><a href="#val-log" class="anchor"></a><code><span><span class="keyword">val</span> log : <span><a href="../Log/index.html#type-level">Log.level</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>log level message</code> should be interpreted as writing (probably to standard output) a message associated with a log level. To look good, the colour should change according to the log level, it would look more professional!</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-trace"><a href="#val-trace" class="anchor"></a><code><span><span class="keyword">val</span> trace : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>trace message</code> is an alias of <code>log Aliases.Trace</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span><span class="keyword">val</span> debug : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>debug message</code> is an alias of <code>log Aliases.Debug</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-info"><a href="#val-info" class="anchor"></a><code><span><span class="keyword">val</span> info : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>info message</code> is an alias of <code>log Aliases.Info</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-warning"><a href="#val-warning" class="anchor"></a><code><span><span class="keyword">val</span> warning : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>warning message</code> is an alias of <code>log Aliases.Warning</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-alert"><a href="#val-alert" class="anchor"></a><code><span><span class="keyword">val</span> alert : <span>string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>alert message</code> is an alias of <code>log Aliases.Alert</code>.</p></div></div><h4 id="open-bar"><a href="#open-bar" class="anchor"></a>Open bar</h4><p>When we are in the context of an IO, ahem, effect execution, it's open bar, we can do whatever we want, like throwing exceptions galore!</p><div class="odoc-spec"><div class="spec value anchored" id="val-throw"><a href="#val-throw" class="anchor"></a><code><span><span class="keyword">val</span> throw : <span><a href="../Error/index.html#type-t">Error.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>throw error</code> should be interpreted as... &quot;fire, fire, what to do using an Error!&quot;.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raise_"><a href="#val-raise_" class="anchor"></a><code><span><span class="keyword">val</span> raise_ : <span>exn <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p><code>raise_ exn</code> should be interpreted as... &quot;fire, fire, what to do using an exception!&quot;.</p></div></div><h4 id="effects-composition"><a href="#effects-composition" class="anchor"></a>Effects composition</h4><div class="odoc-spec"><div class="spec value anchored" id="val-sequence"><a href="#val-sequence" class="anchor"></a><code><span><span class="keyword">val</span> sequence : 
  <span><span><span><span class="type-var">'a</span> list</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div><div class="spec-doc"><p>Collapses sequentially YOCaml program. <code>sequence ps f p</code> produces a program which performs <code>p</code> followed by <code>f ps</code>. A common usage is <code>p |&gt; sequences ps f</code>.</p></div></div><h3 id="included-freer-combinators"><a href="#included-freer-combinators" class="anchor"></a>Included Freer combinators</h3><p>As mentioned above, the plumbing of program description and program handling is provided through a Freer Monad, a technique that aims to describe a free build over a Left Kan extension. Although the presence of <em>slicing</em> allows for the construction of specialised effects handlers, in the use case of this blog generator, the effects I propagate turn out to be exactly those I have described in my complete effects list. Coicindance, I don't think so!</p><p>It therefore seems logical (not to say ergonomic) to introduce the Freer interface in the toplevel of the <code>Effect</code> module. But as the interface is long and tiring to read, I place it at the end of the module!</p><div class="odoc-spec"><div class="spec module anchored" id="module-Infix"><a href="#module-Infix" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Infix/index.html">Infix</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Syntax"><a href="#module-Syntax" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Syntax/index.html">Syntax</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Preface</span>.Specs.FREER_MONAD
  <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">f</span></span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.f</span></span>
   <span class="keyword">and</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span>
   <span class="keyword">and</span> <span><span class="keyword">module</span> <span class="xref-unresolved">Infix</span> := <span class="xref-unresolved">Freer</span>.Infix</span>
   <span class="keyword">and</span> <span><span class="keyword">module</span> <span class="xref-unresolved">Syntax</span> := <span class="xref-unresolved">Freer</span>.Syntax</span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-f"><a href="#type-f" class="anchor"></a><code><span><span class="keyword">type</span> <span>!'a f</span></span><span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.f</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>!'a t</span></span><span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span><span> = </span></code><ol><li id="type-t.Return" class="def variant constructor anchored"><a href="#type-t.Return" class="anchor"></a><code><span>| </span><span><span class="constructor">Return</span> : <span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></li><li id="type-t.Bind" class="def variant constructor anchored"><a href="#type-t.Bind" class="anchor"></a><code><span>| </span><span><span class="constructor">Bind</span> : <span><span class="type-var">'c</span> <a href="#type-f">f</a></span> * <span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="#type-t">t</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-handle"><a href="#type-handle" class="anchor"></a><code><span><span class="keyword">type</span> <span>(!'a, !'b) handle</span></span><span> = <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-f">f</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-handler"><a href="#type-handler" class="anchor"></a><code><span><span class="keyword">type</span> <span>!'a handler</span></span><span> = </span><span>{</span></code><ol><li id="type-handler.handler" class="def record field anchored"><a href="#type-handler.handler" class="anchor"></a><code><span>handler : 'b. <span><span>(<span class="type-var">'b</span>, <span class="type-var">'a</span>)</span> <a href="#type-handle">handle</a></span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-perform"><a href="#val-perform" class="anchor"></a><code><span><span class="keyword">val</span> perform : <span><span><span class="type-var">'a</span> <a href="#type-f">f</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-run"><a href="#val-run" class="anchor"></a><code><span><span class="keyword">val</span> run : <span><span><span class="type-var">'a</span> <a href="#type-handler">handler</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-To_monad"><a href="#module-To_monad" class="anchor"></a><code><span><span class="keyword">module</span> <a href="To_monad/index.html">To_monad</a></span><span> (<a href="To_monad/index.html#argument-1-Monad">Monad</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Functor"><a href="#module-Functor" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Functor/index.html">Functor</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Applicative"><a href="#module-Applicative" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Applicative/index.html">Applicative</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Selective"><a href="#module-Selective" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Selective/index.html">Selective</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Monad"><a href="#module-Monad" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Monad/index.html">Monad</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-join"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compose_left_to_right"><a href="#val-compose_left_to_right" class="anchor"></a><code><span><span class="keyword">val</span> compose_left_to_right : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compose_right_to_left"><a href="#val-compose_right_to_left" class="anchor"></a><code><span><span class="keyword">val</span> compose_right_to_left : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift"><a href="#val-lift" class="anchor"></a><code><span><span class="keyword">val</span> lift : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift2"><a href="#val-lift2" class="anchor"></a><code><span><span class="keyword">val</span> lift2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lift3"><a href="#val-lift3" class="anchor"></a><code><span><span class="keyword">val</span> lift3 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-replace"><a href="#val-replace" class="anchor"></a><code><span><span class="keyword">val</span> replace : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-void"><a href="#val-void" class="anchor"></a><code><span><span class="keyword">val</span> void : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec module anchored" id="module-Traverse"><a href="#module-Traverse" class="anchor"></a><code><span><span class="keyword">module</span> Traverse</span><span> : 
  <span class="xref-unresolved">Preface</span>.Specs.TRAVERSABLE
    <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">iter</span></span> = <span><span class="type-var">'a</span> <span class="xref-unresolved">list</span></span></span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Infix/index.html">Infix</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="Infix/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Preface</span>.Specs.Applicative.INFIX <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;*&gt;)"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;**&gt;)"><a href="#val-(&lt;**&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;**&gt;) : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(*&gt;)"><a href="#val-(*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (*&gt;) : <span><span>unit <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;*)"><a href="#val-(&lt;*)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*) : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Preface</span>.Specs.Monad.INFIX <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-(=|&lt;)"><a href="#val-(=|&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (=|&lt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;|=)"><a href="#val-(&gt;|=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;|=) : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(=&lt;&lt;)"><a href="#val-(=&lt;&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (=&lt;&lt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;=&gt;)"><a href="#val-(&gt;=&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;=&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;=&lt;)"><a href="#val-(&lt;=&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;=&lt;) : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;)"><a href="#val-(&gt;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;) : <span><span>unit <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;&lt;)"><a href="#val-(&lt;&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;&lt;) : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;$&gt;)"><a href="#val-(&lt;$&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;$&gt;) : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;&amp;&gt;)"><a href="#val-(&lt;&amp;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;&amp;&gt;) : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;$)"><a href="#val-(&lt;$)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;$) : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-($&gt;)"><a href="#val-($&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> ($&gt;) : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div></details></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="Syntax/index.html">Syntax</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="Syntax/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Preface</span>.Specs.Applicative.SYNTAX <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-and+"><a href="#val-and+" class="anchor"></a><code><span><span class="keyword">val</span> and+ : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Preface</span>.Specs.Monad.SYNTAX <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <span class="xref-unresolved">t</span></span> := <span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-let*"><a href="#val-let*" class="anchor"></a><code><span><span class="keyword">val</span> let* : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-let+"><a href="#val-let+" class="anchor"></a><code><span><span class="keyword">val</span> let+ : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Freer</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="xref-unresolved">Freer</span>.t</span></span></code></div></div></details></div></details></div></div></body></html>